<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>reVCDOS Launcher</title>
<style>
body { font-family: sans-serif; background: #202124; color: #e8eaed; text-align:center; padding:50px;}
button { padding: 12px 32px; background: #8ab4f8; color: #202124; border:none; border-radius:24px; cursor:pointer;}
</style>
</head>
<body>
<h1>reVCDOS Launcher</h1>
<p>Click the button to get your tunnel URL and password:</p>
<button onclick="launchGame()">Launch Game</button>
<p id="status"></p>
<script>
async function launchGame() {
    const status = document.getElementById("status");
    status.innerText = "Fetching tunnel info...";
    
    const res = await fetch('/api/start');
    const data = await res.json();
    
    const { tunnel_url, password } = data;
    if (!tunnel_url) {
        status.innerText = "Failed to get tunnel URL";
        return;
    }
    
    navigator.clipboard.writeText(password).then(() => {
        status.innerText = "âœ“ Password copied! Opening game...";
        window.open(`${tunnel_url}/`, "_blank");
    }).catch(() => {
        status.innerText = `Password: ${password} (copy manually)`;
        window.open(`${tunnel_url}/`, "_blank");
    });
}
</script>
</body>
</html>
